@using Highcharts4Net
@using Highcharts4Net.Library.Enums
@using Highcharts4Net.Library.Helpers
@using Highcharts4Net.Library.Options

@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    ViewBag.Title = "Line charts » Time data with irregular intervals";
}

@Html.Highcharts4Net().SplineChart((Action<Highcharts4Net.Library.SplineChartSettings>)(settings =>
            {
                settings.Name = "SplineIrregularTime";

                settings.SetTitle(s => { s.Text = "Snow depth at Vikjafjellet, Norway"; });

                settings.SetSubtitle(s => { s.Text = "Irregular time data in Highcharts JS"; });

                settings.AddXAxis(s =>
                {
                    s.Type = AxisTypes.Datetime;
                    s.DateTimeLabelFormats = new DateTimeLabel
                    {
                        Month = "%e. %b",
                        Year = "%b"
                    };
                    s.Title = new XAxisTitle
                    {
                        Text = "Date"
                    };
                });

                settings.AddYAxis((YAxisSettings)(s =>
                {
                    s.Title = new YAxisTitle
                    {
                        Text = "Snow depth (m)"
                    };
                    s.Min = 0;
                }));

                settings.SetTooltip(s => {
                    s.HeaderFormat = "<b>{series.name}</b><br>";
                    s.PointFormat = "{point.x:%e. %b}: {point.y:.2f} m";
                });

                settings.SetPlotOptions(s =>
                {
                    s.Spline = new PlotOptionsSpline
                    {
                        Marker = new PlotOptionsSplineMarker
                        {
                            Enabled = true
                        }
                    };
                });

                settings.AddSeries((Highcharts4Net.Library.SerieSplineSettings)(s =>
                {
                    s.Name = "Winter 2012-2013";
                    s.Data = new Data(new Highcharts4Net.Library.Helpers.NumberOrDateTime?[][] {
            new Highcharts4Net.Library.Helpers.NumberOrDateTime?[]{new DateTime(1970,10,21,0,0,0,1),0 },
            new Highcharts4Net.Library.Helpers.NumberOrDateTime?[]{new DateTime(1970,11,4,0,0,0,1),0.28 },
            new Highcharts4Net.Library.Helpers.NumberOrDateTime?[]{new DateTime(1970,11,9,0,0,0,1),0.25 },
            new Highcharts4Net.Library.Helpers.NumberOrDateTime?[]{new DateTime(1970,11,27,0,0,0,1),0.2 },
            new Highcharts4Net.Library.Helpers.NumberOrDateTime?[]{new DateTime(1970,12,2,0,0,0,1),0.28 },
            new Highcharts4Net.Library.Helpers.NumberOrDateTime?[]{new DateTime(1970,12,26,0,0,0,1),0.28 },
            new Highcharts4Net.Library.Helpers.NumberOrDateTime?[]{new DateTime(1970,12,29,0,0,0,1),0.47 },
            new Highcharts4Net.Library.Helpers.NumberOrDateTime?[]{new DateTime(1971,1,11,0,0,0,1),0.79 },
            new Highcharts4Net.Library.Helpers.NumberOrDateTime?[]{new DateTime(1971,1,26,0,0,0,1),0.72 },
            new Highcharts4Net.Library.Helpers.NumberOrDateTime?[]{new DateTime(1971,2,3,0,0,0,1),1.02 },
            new Highcharts4Net.Library.Helpers.NumberOrDateTime?[]{new DateTime(1971,2,11,0,0,0,1),1.12 },
            new Highcharts4Net.Library.Helpers.NumberOrDateTime?[]{new DateTime(1971,2,25,0,0,0,1),1.2 },
            new Highcharts4Net.Library.Helpers.NumberOrDateTime?[]{new DateTime(1971,3,11,0,0,0,1),1.18 },
            new Highcharts4Net.Library.Helpers.NumberOrDateTime?[]{new DateTime(1971,4,11,0,0,0,1),1.19 },
            new Highcharts4Net.Library.Helpers.NumberOrDateTime?[]{new DateTime(1971,5,1,0,0,0,1),1.85 },
            new Highcharts4Net.Library.Helpers.NumberOrDateTime?[]{new DateTime(1971,5,5,0,0,0,1),2.22 },
            new Highcharts4Net.Library.Helpers.NumberOrDateTime?[]{new DateTime(1971,5,19,0,0,0,1),1.15 },
            new Highcharts4Net.Library.Helpers.NumberOrDateTime?[]{new DateTime(1971,6,3,0,0,0,1),0 }
        });
                }));

                settings.AddSeries((Highcharts4Net.Library.SerieSplineSettings)(s =>
                {
                    s.Name = "Winter 2013-2014";
                    s.Data = new Data(new Highcharts4Net.Library.Helpers.NumberOrDateTime?[][] {
            new Highcharts4Net.Library.Helpers.NumberOrDateTime?[]{new DateTime(1970, 10, 29, 0,0,0,1),0 },
            new Highcharts4Net.Library.Helpers.NumberOrDateTime?[]{new DateTime(1970, 11, 9, 0,0,0,1), 0.4 },
            new Highcharts4Net.Library.Helpers.NumberOrDateTime?[]{new DateTime(1970, 12, 1, 0,0,0,1), 0.25 },
            new Highcharts4Net.Library.Helpers.NumberOrDateTime?[]{new DateTime(1971, 1, 1, 0,0,0,1), 1.66 },
            new Highcharts4Net.Library.Helpers.NumberOrDateTime?[]{new DateTime(1971, 1, 10, 0,0,0,1), 1.8 },
            new Highcharts4Net.Library.Helpers.NumberOrDateTime?[]{new DateTime(1971, 2, 19, 0,0,0,1), 1.76 },
            new Highcharts4Net.Library.Helpers.NumberOrDateTime?[]{new DateTime(1971, 3, 25, 0,0,0,1), 2.62 },
            new Highcharts4Net.Library.Helpers.NumberOrDateTime?[]{new DateTime(1971, 4, 19, 0,0,0,1), 2.41 },
            new Highcharts4Net.Library.Helpers.NumberOrDateTime?[]{new DateTime(1971, 4, 30, 0,0,0,1), 2.05 },
            new Highcharts4Net.Library.Helpers.NumberOrDateTime?[]{new DateTime(1971, 5, 14, 0,0,0,1), 1.7 },
            new Highcharts4Net.Library.Helpers.NumberOrDateTime?[]{new DateTime(1971,5,24,0,0,0,1), 1.1 },
            new Highcharts4Net.Library.Helpers.NumberOrDateTime?[]{new DateTime(1971,6,10,0,0,0,1), 0 }
        });
                }));

                settings.AddSeries((Highcharts4Net.Library.SerieSplineSettings)(s =>
                {
                    s.Name = "Winter 2014-2015";
                    s.Data = new Data(new Highcharts4Net.Library.Helpers.NumberOrDateTime?[][] {
            new Highcharts4Net.Library.Helpers.NumberOrDateTime?[]{new DateTime(1970, 11, 25, 0,0,0,1), 0},
            new Highcharts4Net.Library.Helpers.NumberOrDateTime?[]{new DateTime(1970, 12, 6, 0,0,0,1), 0.25},
            new Highcharts4Net.Library.Helpers.NumberOrDateTime?[]{new DateTime(1970, 12, 20, 0,0,0,1), 1.41},
            new Highcharts4Net.Library.Helpers.NumberOrDateTime?[]{new DateTime(1970, 12, 25, 0,0,0,1), 1.64},
            new Highcharts4Net.Library.Helpers.NumberOrDateTime?[]{new DateTime(1971, 1, 4, 0,0,0,1), 1.6},
            new Highcharts4Net.Library.Helpers.NumberOrDateTime?[]{new DateTime(1971, 1, 17, 0,0,0,1), 2.55},
            new Highcharts4Net.Library.Helpers.NumberOrDateTime?[]{new DateTime(1971, 1, 24, 0,0,0,1), 2.62},
            new Highcharts4Net.Library.Helpers.NumberOrDateTime?[]{new DateTime(1971, 2, 4, 0,0,0,1), 2.5},
            new Highcharts4Net.Library.Helpers.NumberOrDateTime?[]{new DateTime(1971, 2, 14, 0,0,0,1), 2.42},
            new Highcharts4Net.Library.Helpers.NumberOrDateTime?[]{new DateTime(1971, 3, 6, 0,0,0,1), 2.74},
            new Highcharts4Net.Library.Helpers.NumberOrDateTime?[]{new DateTime(1971, 3, 14, 0,0,0,1), 2.62},
            new Highcharts4Net.Library.Helpers.NumberOrDateTime?[]{new DateTime(1971, 3, 24, 0,0,0,1), 2.6},
            new Highcharts4Net.Library.Helpers.NumberOrDateTime?[]{new DateTime(1971, 4, 2, 0,0,0,1), 2.81},
            new Highcharts4Net.Library.Helpers.NumberOrDateTime?[]{new DateTime(1971, 4, 12, 0,0,0,1), 2.63},
            new Highcharts4Net.Library.Helpers.NumberOrDateTime?[]{new DateTime(1971, 4, 28, 0,0,0,1), 2.77},
            new Highcharts4Net.Library.Helpers.NumberOrDateTime?[]{new DateTime(1971, 5, 5, 0,0,0,1), 2.68},
            new Highcharts4Net.Library.Helpers.NumberOrDateTime?[]{new DateTime(1971, 5, 10, 0,0,0,1), 2.56},
            new Highcharts4Net.Library.Helpers.NumberOrDateTime?[]{new DateTime(1971, 5, 15, 0,0,0,1), 2.39},
            new Highcharts4Net.Library.Helpers.NumberOrDateTime?[]{new DateTime(1971, 5, 20, 0,0,0,1), 2.3},
            new Highcharts4Net.Library.Helpers.NumberOrDateTime?[]{new DateTime(1971, 6, 5, 0,0,0,1), 2},
            new Highcharts4Net.Library.Helpers.NumberOrDateTime?[]{new DateTime(1971, 6, 10, 0,0,0,1), 1.85},
            new Highcharts4Net.Library.Helpers.NumberOrDateTime?[]{new DateTime(1971, 6, 15, 0,0,0,1), 1.49},
            new Highcharts4Net.Library.Helpers.NumberOrDateTime?[]{new DateTime(1971, 6, 23, 0,0,0,1), 1.08}
        });
                }));

            })).Render()


@section source_code{
@@Html.Highcharts4Net().SplineChart(settings =>
{
    settings.Name = "SplineWithPlotBands";

    settings.SetTitle(s => { s.Text = "Wind speed during two days"; });

    settings.SetTitle(s => { s.Text = "May 31 and and June 1, 2015 at two locations in Vik i Sogn, Norway"; });

    settings.AddXAxis(s =>
    {
        s.Type = AxisTypes.Datetime;
        s.Labels = new XAxisLabels
        {
            Overflow = "justify"
        };
    });

    settings.AddYAxis(s =>
    {
        s.Title = new YAxisTitle
        {
            Text = "Wind speed (m/s)"
        };
        s.MinorGridLineWidth = 0;
        s.MinorGridLineWidth = 0;
        s.GridLineWidth = 0;
        s.AlternateGridColor = null;
        s.PlotBands = new []
        {
            new YAxisPlotBands
            {
                // Light air
                From = 0.3,
                To = 1.5,
                Color = new ColorOrGradient("rgba(68, 170, 213, 0.1)"),
                Label = new YAxisPlotBandsLabel
                {
                    Text = "Light air",
                    Style = "{color:'#606060'}"
                }
            },
            new YAxisPlotBands
            {
                // Light breeze
                From = 1.5,
                To = 3.3,
                Color = new ColorOrGradient("rgba(0, 0, 0, 0)"),
                Label = new YAxisPlotBandsLabel
                {
                    Text = "Light breeze",
                    Style = "{color: '#606060'}"
                }
            },
            new YAxisPlotBands
            {
                // Gentle breeze
                From = 3.3,
                To = 5.5,
                Color = new ColorOrGradient("rgba(68, 170, 213, 0.1)"),
                Label = new YAxisPlotBandsLabel
                {
                    Text = "Gentle breeze",
                    Style = "{color:'#606060'}"
                }
            },
            new  YAxisPlotBands
            {
                //Moderate breeze
                From= 5.5,
                To= 8,
                Color = new ColorOrGradient("rgba(0, 0, 0, 0)"),
                Label = new YAxisPlotBandsLabel
                {
                    Text = "Moderate breeze",
                    Style = "{color:'#606060'}"
                }
            },
            new  YAxisPlotBands
            {
                // Fresh breeze
                From= 8,
                To= 11,
                Color = new ColorOrGradient("rgba(68, 170, 213, 0.1)"),
                Label = new YAxisPlotBandsLabel
                {
                    Text = "Fresh breeze",
                    Style = "{color:'#606060'}"
                }
            },
            new  YAxisPlotBands
            {
                // Strong breeze
                From= 11,
                To= 14,
                Color = new ColorOrGradient("rgba(0, 0, 0, 0)"),
                Label = new YAxisPlotBandsLabel
                {
                    Text = "Strong breeze",
                    Style = "{color:'#606060'}"
                }
            },
            new  YAxisPlotBands
            {
                // High wind
                From= 14,
                To= 15,
                Color = new ColorOrGradient("rgba(68, 170, 213, 0.1)"),
                Label = new YAxisPlotBandsLabel
                {
                    Text = "High wind",
                    Style = "{color:'#606060'}"
                }
            }
        };
    });

    settings.SetTooltip(s => { s.ValueSuffix = "m/s"; });

    settings.SetPlotOptions(s =>
    {
        s.Spline = new PlotOptionsSpline
        {
            LineWidth = 4,
            States = new PlotOptionsSplineStates
            {
                Hover = new PlotOptionsSplineStatesHover
                {
                    LineWidth = 5
                }
            },
            PointInterval = 3600000, // one hour
            PointStart = new PointStart(new DateTime(2015, 5, 31)),
            Marker = new PlotOptionsSplineMarker
            {
                Enabled = false
            }
        };
    });

    settings.AddSeries(s =>
    {
        s.Name = "Hestavollane";
        s.Data = new Data(new NumberOrDateTime?[] {0.2, 0.8, 0.8, 0.8, 1, 1.3, 1.5, 2.9, 1.9, 2.6, 1.6, 3, 4, 3.6, 4.5, 4.2, 4.5, 4.5, 4, 3.1, 2.7, 4, 2.7, 2.3, 2.3, 4.1, 7.7, 7.1, 5.6, 6.1, 5.8, 8.6, 7.2, 9, 10.9, 11.5, 11.6, 11.1, 12, 12.3, 10.7, 9.4, 9.8, 9.6, 9.8, 9.5, 8.5, 7.4, 7.6});
    });
    settings.AddSeries(s =>
    {
        s.Name = "Vik";
        s.Data = new Data(new NumberOrDateTime?[] {0, 0, 0.6, 0.9, 0.8, 0.2, 0, 0, 0, 0.1, 0.6, 0.7, 0.8, 0.6, 0.2, 0, 0.1, 0.3, 0.3, 0, 0.1, 0, 0, 0, 0.2, 0.1, 0, 0.3, 0, 0.1, 0.2, 0.1, 0.3, 0.3, 0, 3.1, 3.1, 2.5, 1.5, 1.9, 2.1, 1, 2.3, 1.9, 1.2, 0.7, 1.3, 0.4, 0.3});
    });
    settings.SetNavigation(s => { s.MenuItemStyle = "{fontSize: '10px'}"; });
}).Render()
}